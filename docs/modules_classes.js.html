<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: modules/classes.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: modules/classes.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const functions = require('./functions.js');

/**
 * A notification object used by the database.
 */
module.exports.Notification = class {
    /**
     * Constructs a notification object.
     * @param {String | null} id The message ID of this notification.
     * @param {String} title The title of this notification.
     * @param {String} url The giveaway URL of this notification.
     * @param {String} author The author of this notification.
     * @param {String} permalink The permalink for the giveaway.
     * @param {{description?: String, validity?: Number, score?: Number, flair?: String, createdAt?: Date}} partials The partials of this notification.
     */
    constructor(id = null, title, url, author, permalink, partials = {}) {
        this.id = id;
        this.title = title;
        this.url = url;
        this.author = author;
        this.permalink = permalink;
        this.description = partials.description;
        this.validity = partials.validity;
        this.score = partials.score;
        this.flair = partials.flair;
        this.createdAt = partials.createdAt;
    }
}

/**
 * An error ticket object used by the Error Manager.
 */
class ErrorTicket {
    /**
     * Creates an Error Ticket for the Error Manager.
     * @param {String} location The location of this module.
     * @param {String} method The name of the method that throwed the error.
     * @param {String | Object} error The error message or object.
     * @param {String} base The base method of the method that throwed the error.
     * @returns Error Ticket
     */
    constructor(location, method, error, base) {
        this.location = location;
        this.name = base ? base + ' -> ' + method : method;
        this.error = error;
    }
}
module.exports.ErrorTicket = ErrorTicket;

/**
 * An error ticket manager used by the modules to create an Error Ticket.
 */
module.exports.ErrorTicketManager = class {
    /**
     * Constructs an object used to create error tickets.
     * @param {String} location The location of this module.
     */
    constructor(location) {
        this.location = location;
    }

    /**
     * Creates an Error Ticket for the Error Manager.
     * @param {String} method The name of the method that throwed the error.
     * @param {String | Object} error The error message or object.
     * @param {String} base The base method of the method that throwed the error.
     * @returns {ErrorTicket} Error Ticket
     */
    create(method, error, base = '') {
        return new ErrorTicket(this.location, method, error, base);
    }
}

/**
 * Creates a Process Queue.
 * @param {number} timeout Time in miliseconds.
 *  @returns Process Queue
 */
module.exports.ProcessQueue = class {
    constructor(timeout = 0) {
        this.timeout = timeout;
        this.processID = 0;
        this.currentID = 0;
    }

    /**
     * Start queueing.
     * @returns {Promise&lt;null>}
     */
    queue() {
        const ID = this.processID++;
        return new Promise(async resolve => {
            while (ID != this.currentID) await functions.sleep(2500);
            resolve();
        });
    }

    /**
     * Finish queue turn.
     */
    finish() {
        setTimeout(() => {
            this.currentID++;;
        }, this.timeout);
    }
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ErrorTicket.html">ErrorTicket</a></li><li><a href="ErrorTicketManager.html">ErrorTicketManager</a></li><li><a href="Notification.html">Notification</a></li><li><a href="ProcessQueue.html">ProcessQueue</a></li></ul><h3>Global</h3><ul><li><a href="global.html#add">add</a></li><li><a href="global.html#addReaction">addReaction</a></li><li><a href="global.html#app">app</a></li><li><a href="global.html#blacklisted">blacklisted</a></li><li><a href="global.html#channel">channel</a></li><li><a href="global.html#channel_manager">channel_manager</a></li><li><a href="global.html#clearTempChannels">clearTempChannels</a></li><li><a href="global.html#client">client</a></li><li><a href="global.html#compareArray">compareArray</a></li><li><a href="global.html#compareDate">compareDate</a></li><li><a href="global.html#compareString">compareString</a></li><li><a href="global.html#contains">contains</a></li><li><a href="global.html#create">create</a></li><li><a href="global.html#createStructure">createStructure</a></li><li><a href="global.html#database">database</a></li><li><a href="global.html#DB">DB</a></li><li><a href="global.html#dedicateChannel">dedicateChannel</a></li><li><a href="global.html#delete">delete</a></li><li><a href="global.html#error_manager">error_manager</a></li><li><a href="global.html#fetchIcon">fetchIcon</a></li><li><a href="global.html#fetchImage">fetchImage</a></li><li><a href="global.html#freeGameFetch">freeGameFetch</a></li><li><a href="global.html#freeGameNotify">freeGameNotify</a></li><li><a href="global.html#freeGameUpdate">freeGameUpdate</a></li><li><a href="global.html#gameBlacklist">gameBlacklist</a></li><li><a href="global.html#gameInvite">gameInvite</a></li><li><a href="global.html#gameTitles">gameTitles</a></li><li><a href="global.html#gameWhitelist">gameWhitelist</a></li><li><a href="global.html#general">general</a></li><li><a href="global.html#guild">guild</a></li><li><a href="global.html#hasRole">hasRole</a></li><li><a href="global.html#initialize">initialize</a></li><li><a href="global.html#initialized">initialized</a></li><li><a href="global.html#isInitialized">isInitialized</a></li><li><a href="global.html#mark">mark</a></li><li><a href="global.html#member">member</a></li><li><a href="global.html#memberActivityUpdate">memberActivityUpdate</a></li><li><a href="global.html#memberOffline">memberOffline</a></li><li><a href="global.html#memberUnlisted">memberUnlisted</a></li><li><a href="global.html#memberVoiceUpdate">memberVoiceUpdate</a></li><li><a href="global.html#message">message</a></li><li><a href="global.html#message_manager">message_manager</a></li><li><a href="global.html#notificationPush">notificationPush</a></li><li><a href="global.html#notificationRecords">notificationRecords</a></li><li><a href="global.html#notifications">notifications</a></li><li><a href="global.html#notificationTrim">notificationTrim</a></li><li><a href="global.html#onReactionAdd">onReactionAdd</a></li><li><a href="global.html#onReactionRemove">onReactionRemove</a></li><li><a href="global.html#parseHTML">parseHTML</a></li><li><a href="global.html#parseMention">parseMention</a></li><li><a href="global.html#parseModules">parseModules</a></li><li><a href="global.html#process">process</a></li><li><a href="global.html#reaction_manager">reaction_manager</a></li><li><a href="global.html#remove">remove</a></li><li><a href="global.html#role">role</a></li><li><a href="global.html#role_manager">role_manager</a></li><li><a href="global.html#say">say</a></li><li><a href="global.html#sendToChannel">sendToChannel</a></li><li><a href="global.html#sendToUser">sendToUser</a></li><li><a href="global.html#setActivity">setActivity</a></li><li><a href="global.html#sleep">sleep</a></li><li><a href="global.html#speech">speech</a></li><li><a href="global.html#toAlphanumericString">toAlphanumericString</a></li><li><a href="global.html#toCountingInteger">toCountingInteger</a></li><li><a href="global.html#whitelisted">whitelisted</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Wed Jan 27 2021 19:14:34 GMT+0800 (China Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
